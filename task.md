! !!!!Убрать с сайте Кружки, S7 Tools, Команда 
Ты — Senior Product Manager и Lead Architect. Твоя задача — составить исчерпывающее Техническое Задание (ТЗ) и архитектуру БД для образовательной платформы "S7 Robotics".
Данные взяты из рукописных черновиков. В системе строго 4 роли.
Реализуй функционал в точности по структуре ниже:

### 1. Роль: МЕНТОР (Mentor)
*Самая сложная логика. Учитель управляет классами и финансами.*

**Вкладка 1: Главная (Dashboard)**
* **Новые открытые группы:** Уведомления/список новых групп, которые ментор может взять себе.
* **Расписание:** Краткая сводка уроков на сегодня.
* **Зарплата:** Виджет с текущим начисленным балансом.

**Вкладка 2: Группы (My Groups) — ВАЖНО**
* Общий список групп, которые ведет ментор.
* **Детальный просмотр конкретной группы (при клике):**
    1.  **Количество детей:** счетчик учеников в группе.
    2.  **Расписание:** Дни и время занятий именно этой группы.
    3.  **Выплаты (Статус оплат):** Список учеников с индикацией, оплачен ли у них абонемент (Должник / Оплачено). Ментор должен видеть, кого пускать на урок.
    4.  **Программа:** Учебный план, привязанный к этой группе.

**Вкладка 3: Кошелек (Wallet)**
* Баланс ментора.
* История выплат (транзакции).
* Детализация начислений (за какие уроки).

**Вкладка 4: Расписание (Schedule)**
* Полное расписание всех уроков ментора (календарь).

**Вкладка 5: Профиль (Profile)**
* Уровень квалификации (грейды).
* **Сертификаты:** Список сертификатов ментора.
* **Ранг:** Игровой уровень/звание сотрудника.

---

### 2. Роль: КУРАТОР (Curator) / АДМИН
*Управленческая роль и обучение персонала.*

**Функционал:**
1.  **Запись на курсы (для педагогов):**
    * Каталог курсов повышения квалификации.
    * **Важное условие:** Пометка "Для педагогов — БЕСПЛАТНО".
    * Кнопка записи.
2.  **Bytesize (для Менторов):**
    * Раздел с короткими видео (Reels-формат) специально для обучения менторов (методики, софт-скиллы).
3.  **Админ-панель (Управление):**
    * Управление новостями, пользователями, общим расписанием.

---

### 3. Роль: РОДИТЕЛЬ (Parent)
*Управление обучением детей и оплатами.*

**Вкладка 1: Главная**
* **Новости:** Лента новостей от администрации.
* **Скидки:** Актуальные предложения.
* **Абонементы:** Статус текущих абонементов (активен/не активен).

**Вкладка 2: Дети**
* **Добавить ребенка:** Функционал привязки ребенка (через почту).
* **Покупка:** Возможность купить/продлить абонемент для выбранного ребенка.

**Вкладка 3: Расписание**
* Общее расписание занятий всех привязанных детей.
* **Важно:** В календаре должны отображаться **Даты оплат** (напоминания, когда заканчивается абонемент).

**Вкладка 4: Мастер-классы**
* Список доступных разовых мероприятий (не регулярные курсы).
* Запись на мастер-класс.

**Вкладка 5: Bytesize (для Родителей)**
* Лента коротких видео.
* **Контент:** Отличается от менторского (темы: воспитание, польза IT, успехи детей).

**Вкладка 6: Магазин (Loyalty Shop)**
* Бонусная система.
* **Логика начисления:** Бонусы даются за посещение мероприятий + за покупку обучения детей.
* Обмен бонусов на товары/услуги.

**Вкладка 7: Аналитика**
* Прогресс детей, оценки, посещаемость.

---

### 4. Роль: УЧЕНИК (Student)
*Интерфейс просмотра.*

**Вкладка 1: Главная**
* Показывается актуальное расписание + Текущий курс.
* Если не записан никуда — блок пустой (или промо).

**Вкладка 2: Курсы**
* Список актуальных оффлайн-курсов центра.
* Возможность покупки.
* **Карточка курса:** Описание, Цена, Программа (текстом, без презентаций).

**Вкладка 3: Расписание**
* Статичное расписание занятий (не редактируется учеником).

// ... keep existing content ...

// ... keep existing content ...

### 6. FIXES & IMPROVEMENTS
[x] Implement GET /api/mentor/groups/:id endpoint
[x] Update GET /api/mentor/class/:classId/students to include payment status
[x] Create app/dashboard/groups/[id]/page.tsx
[x] Link "View Details" button in groups-tab.tsx to new page
[x] Fix Mentor "Active Lesson" permission (ClubMentor support)
[x] Add "Start Lesson" button to Group Details
[x] Debug QR Scanner (Fix "Object not found" error, add manual fallback)
[x] Refactor Monitor Group Details to "Gradebook" style (Date filter, Editable History)
[x] Implement Student Rating flow (Rate lesson after completion)
[x] Add "Download Report" to Gradebook

### 5. ФУНКЦИОНАЛ QR-КОДОВ И LIVE-УРОКОВ (НОВОЕ)

**Для Ментора (Учителя):**
* **Запуск урока:** Кнопка "Начать урок" в расписании.
* **Генерация QR:** При старте урока генерируется уникальный QR-код на весь экран (или в модальном окне).
* **Live-таблица (Excel-style):**
    * Список учеников группы в реальном времени.
    * Колонки: ФИО, Статус (Пришел/Не пришел), Оценка, Активность, Комментарий.
    * Обновляется автоматически, когда ученик сканирует код.
    * Возможность вручную менять статусы и ставить оценки.

**Для Ученика:**
* **Сканер QR:** Кнопка "Отметить присутствие" или иконка сканера.
* **Логика:** Сканирует экран учителя -> отправляет запрос -> получает подтверждение "Вы отмечены".
